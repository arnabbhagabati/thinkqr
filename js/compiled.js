'use strict';var k=void 0,n=null,o=false,q=this;function aa(a,b,c){return a.call.apply(a.bind,arguments)}function ba(a,b,c){if(!a)throw Error();if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}else return function(){return a.apply(b,arguments)}}
function r(a,b,c){r=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?aa:ba;return r.apply(n,arguments)};function s(a,b){this.x=a!==k?a:0;this.y=b!==k?b:0}s.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function ca(a){for(var b=0,c=String(t).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),a=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=Math.max(c.length,a.length),i=0;b==0&&i<d;i++){var e=c[i]||"",f=a[i]||"",h=/(\d*)(\D*)/g,j=/(\d*)(\D*)/g;do{var l=h.exec(e)||["","",""],g=j.exec(f)||["","",""];if(l[0].length==0&&g[0].length==0)break;b=u(l[1].length==0?0:parseInt(l[1],10),g[1].length==0?0:parseInt(g[1],10))||u(l[2].length==0,g[2].length==0)||u(l[2],g[2])}while(b==0)}return b}
function u(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};var v=Array.prototype;function da(a,b,c,d){v.splice.apply(a,ea(arguments,1))}function ea(a,b,c){return arguments.length<=2?v.slice.call(a,b):v.slice.call(a,b,c)};function w(a,b){this.x=a;this.y=b}(function(){function a(){}a.prototype=s.prototype;w.J=s.prototype;w.prototype=new a})();function x(a){return Math.sqrt(a.x*a.x+a.y*a.y)}w.prototype.scale=function(a){this.x*=a;this.y*=a;return this};w.prototype.normalize=function(){return this.scale(1/x(this))};w.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};function fa(a,b){this.f=new s(a||0,b||0);this.target=new s;this.h=new w(0,0);this.z=Math.random()*0.5}fa.prototype.update=function(a){var b,c;b=new w(this.target.x-this.f.x,this.target.y-this.f.y);a&&(c=new w(this.f.x-a.x,this.f.y-a.y),a=x(c),c.normalize().scale(1E3/a),b.add(c));this.h.scale(1-ga);this.h.add(b.scale((1+this.z)/ha));x(this.h)>ia&&this.h.normalize().scale(ia);this.f.x+=this.h.x;this.f.y+=this.h.y};var ha=200,ga=0.08,ia=20;var y,z,A,B;function ja(){return q.navigator?q.navigator.userAgent:n}B=A=z=y=o;var C;if(C=ja()){var ka=q.navigator;y=C.indexOf("Opera")==0;z=!y&&C.indexOf("MSIE")!=-1;A=!y&&C.indexOf("WebKit")!=-1;B=!y&&!A&&ka.product=="Gecko"}var D=z,E=B,la=A,t;
a:{var F="",G;if(y&&q.opera)var H=q.opera.version,F=typeof H=="function"?H():H;else if(E?G=/rv\:([^\);]+)(\)|;)/:D?G=/MSIE\s+([^\);]+)(\)|;)/:la&&(G=/WebKit\/(\S+)/),G)var ma=G.exec(ja()),F=ma?ma[1]:"";if(D){var I,na=q.document;I=na?na.documentMode:k;if(I>parseFloat(F)){t=String(I);break a}}t=F}var J={},oa={};function pa(){return oa[9]||(oa[9]=D&&document.documentMode&&document.documentMode>=9)};!D||pa();if(E||D)if(!D||!pa())E&&(J["1.9.1"]||(J["1.9.1"]=ca("1.9.1")>=0));D&&(J["9"]||(J["9"]=ca("9")>=0));function qa(a){(q.requestAnimationFrame||q.webkitRequestAnimationFrame||q.mozRequestAnimationFrame||q.oRequestAnimationFrame||q.msRequestAnimationFrame||function(a){q.setTimeout(a,17)})(a)};function ra(){this.buffer={length:0};this.length=0}ra.prototype={get:function(a){return(this.buffer[Math.floor(a/8)]>>>7-a%8&1)==1},put:function(a,b){for(var c=0;c<b;c++)this.u((a>>>b-c-1&1)==1)},u:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&(this.buffer[this.buffer.length++]=0);a&&(this.buffer[b]|=128>>>this.length%8);this.length++}};function sa(a){this.mode=K;this.data=a}sa.prototype={d:function(){return this.data.length},write:function(a){for(var b=0;b<this.data.length;b++)a.put(this.data.charCodeAt(b),8)}};function ta(a,b){this.v=a;this.q=b}
var L=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,
20],[6,43,15,2,44,16]];function ua(a,b){switch(b){case va:return L[(a-1)*4+0];case wa:return L[(a-1)*4+1];case xa:return L[(a-1)*4+2];case ya:return L[(a-1)*4+3]}};function M(a){if(a<1)throw Error("glog("+a+")");return za[a]}function N(a){for(;a<0;)a+=255;for(;a>=256;)a-=255;return O[a]}var O={length:256},za={length:256},P;for(P=0;P<8;P++)O[P]=1<<P;for(P=8;P<256;P++)O[P]=O[P-4]^O[P-5]^O[P-6]^O[P-8];for(P=0;P<255;P++)za[O[P]]=P;function Q(a,b){if(a.length==k)throw Error(a.length+"/"+b);for(var c=0;c<a.length&&a[c]==0;)c++;this.l={length:a.length-c+b};for(var d=0;d<a.length-c;d++)this.l[d]=a[d+c]}
Q.prototype={get:function(a){return this.l[a]},d:function(){return this.l.length},multiply:function(a){for(var b={length:this.d()+a.d()-1},c=0;c<this.d();c++)for(var d=0;d<a.d();d++)b[c+d]^=N(M(this.get(c))+M(a.get(d)));return new Q(b,0)},t:function(a){if(this.d()-a.d()<0)return this;var b=M(this.get(0))-M(a.get(0)),c={length:this.d()},d;for(d=0;d<this.d();d++)c[d]=this.get(d);for(d=0;d<a.d();d++)c[d]^=N(M(a.get(d))+b);return(new Q(c,0)).t(a)}};var Aa=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,
50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]];function R(a){for(var b=0;a!=0;)b++,a>>>=1;return b}function Ba(a,b,c){switch(a){case Ca:return(b+c)%2==0;case Da:return b%2==0;case Ea:return c%3==0;case Fa:return(b+c)%3==0;case Ga:return(Math.floor(b/2)+Math.floor(c/3))%2==0;case Ha:return b*c%2+b*c%3==0;case Ia:return(b*c%2+b*c%3)%2==0;case Ja:return(b*c%3+(b+c)%2)%2==0;default:throw Error("bad maskPattern:"+a);}}
function Ka(a,b){if(1<=b&&b<10)switch(a){case S:return 10;case T:return 9;case K:return 8;case U:return 8;default:throw Error("mode:"+a);}else if(b<27)switch(a){case S:return 12;case T:return 11;case K:return 16;case U:return 10;default:throw Error("mode:"+a);}else if(b<41)switch(a){case S:return 14;case T:return 13;case K:return 16;case U:return 12;default:throw Error("mode:"+a);}else throw Error("type:"+b);};var S=1,T=2,K=4,U=8,va=1,wa=0,xa=3,ya=2,Ca=0,Da=1,Ea=2,Fa=3,Ga=4,Ha=5,Ia=6,Ja=7;function La(a,b){this.g=a;this.s=b;this.b=this.g*4+17;this.c=[this.b];for(var c=0;c<this.b;c++){this.c[c]=[this.b];for(var d=0;d<this.b;d++)this.c[c][d]=n}this.j=n;this.r=[]}
La.prototype={a:function(a,b){if(a<0||this.b<=a||b<0||this.b<=b)throw Error(a+","+b);return this.c[a][b]},B:function(){Ma(this,o,this.A())},m:function(a,b){for(var c=-1;c<=7;c++)if(!(a+c<=-1||this.b<=a+c))for(var d=-1;d<=7;d++)b+d<=-1||this.b<=b+d||(this.c[a+c][b+d]=0<=c&&c<=6&&(d==0||d==6)||0<=d&&d<=6&&(c==0||c==6)||2<=c&&c<=4&&2<=d&&d<=4?true:o)},A:function(){for(var a=0,b=0,c=0;c<8;c++){Ma(this,true,c);var d;d=this.b;for(var i=0,e=k,f=k,e=0;e<d;e++)for(f=0;f<d;f++){for(var h=0,j=this.a(e,f),l=
-1;l<=1;l++)if(!(e+l<0||d<=e+l))for(var g=-1;g<=1;g++)f+g<0||d<=f+g||l==0&&g==0||j==this.a(e+l,f+g)&&h++;h>5&&(i+=3+h-5)}for(e=0;e<d-1;e++)for(f=0;f<d-1;f++)if(h=0,this.a(e,f)&&h++,this.a(e+1,f)&&h++,this.a(e,f+1)&&h++,this.a(e+1,f+1)&&h++,h==0||h==4)i+=3;for(e=0;e<d;e++)for(f=0;f<d-6;f++)this.a(e,f)&&!this.a(e,f+1)&&this.a(e,f+2)&&this.a(e,f+3)&&this.a(e,f+4)&&!this.a(e,f+5)&&this.a(e,f+6)&&(i+=40);for(f=0;f<d;f++)for(e=0;e<d-6;e++)this.a(e,f)&&!this.a(e+1,f)&&this.a(e+2,f)&&this.a(e+3,f)&&this.a(e+
4,f)&&!this.a(e+5,f)&&this.a(e+6,f)&&(i+=40);for(f=h=0;f<d;f++)for(e=0;e<d;e++)this.a(e,f)&&h++;i+=Math.abs(100*h/d/d-50)/5*10;d=i;if(c==0||a>d)a=d,b=c}return b},F:function(){for(var a=8;a<this.b-8;a++)this.c[a][6]==n&&(this.c[a][6]=a%2==0);for(a=8;a<this.b-8;a++)this.c[6][a]==n&&(this.c[6][a]=a%2==0)},D:function(){for(var a=Aa[this.g-1],b=0;b<a.length;b++)for(var c=0;c<a.length;c++){var d=a[b],i=a[c];if(this.c[d][i]==n)for(var e=-2;e<=2;e++)for(var f=-2;f<=2;f++)this.c[d+e][i+f]=e==-2||e==2||f==
-2||f==2||e==0&&f==0?true:o}},H:function(a){var b;b=this.g;for(var c=b<<12;R(c)-R(7973)>=0;)c^=7973<<R(c)-R(7973);b=b<<12|c;for(var d,c=0;c<18;c++)d=!a&&(b>>c&1)==1,this.c[Math.floor(c/3)][c%3+this.b-8-3]=d;for(c=0;c<18;c++)d=!a&&(b>>c&1)==1,this.c[c%3+this.b-8-3][Math.floor(c/3)]=d},G:function(a,b){var c;c=this.s<<3|b;for(var d=c<<10;R(d)-R(1335)>=0;)d^=1335<<R(d)-R(1335);c=(c<<10|d)^21522;for(var i,d=0;d<15;d++)i=!a&&(c>>d&1)==1,d<6?this.c[d][8]=i:d<8?this.c[d+1][8]=i:this.c[this.b-15+d][8]=i;for(d=
0;d<15;d++)i=!a&&(c>>d&1)==1,d<8?this.c[8][this.b-d-1]=i:d<9?this.c[8][15-d-1+1]=i:this.c[8][15-d-1]=i;this.c[this.b-8][8]=!a},C:function(a,b){for(var c=-1,d=this.b-1,i=7,e=0,f=this.b-1;f>0;f-=2)for(f==6&&f--;;){for(var h=0;h<2;h++)if(this.c[d][f-h]==n){var j=o;e<a.length&&(j=(a[e]>>>i&1)==1);Ba(b,d,f-h)&&(j=!j);this.c[d][f-h]=j;i--;i==-1&&(e++,i=7)}d+=c;if(d<0||this.b<=d){d-=c;c=-c;break}}}};
function Ma(a,b,c){a.m(0,0);a.m(a.b-7,0);a.m(0,a.b-7);a.D();a.F();a.G(b,c);a.g>=7&&a.H(b);if(a.j==n){var d=a.g,i=a.r,b=a.s,e=ua(d,b);if(e==k)throw Error("bad rs block @ typeNumber:"+d+"/errorCorrectLevel:"+b);for(var f=e.length/3,b={length:0},h=0;h<f;h++)for(var j=e[h*3+0],l=e[h*3+1],g=e[h*3+2],m=0;m<j;m++)b[b.length++]=new ta(l,g);e=new ra;for(f=0;f<i.length;f++)h=i[f],e.put(h.mode,4),e.put(h.d(),Ka(h.mode,d)),h.write(e);for(f=d=0;f<b.length;f++)d+=b[f].q;if(e.length>d*8)throw Error("code length overflow. ("+
e.length+">"+d*8+")");for(e.length+4<=d*8&&e.put(0,4);e.length%8!=0;)e.u(o);for(;;){if(e.length>=d*8)break;e.put(236,8);if(e.length>=d*8)break;e.put(17,8)}i=d=l=0;f={length:b.length};h={length:b.length};for(j=0;j<b.length;j++){var m=b[j].q,p=b[j].v-m,d=Math.max(d,m),i=Math.max(i,p);f[j]={length:m};for(g=0;g<f[j].length;g++)f[j][g]=255&e.buffer[g+l];l+=m;g=p;m=new Q([1],0);for(p=0;p<g;p++)m=m.multiply(new Q([1,N(p)],0));g=m;m=(new Q(f[j],g.d()-1)).t(g);h[j]={length:g.d()-1};for(g=0;g<h[j].length;g++)p=
g+m.d()-h[j].length,h[j][g]=p>=0?m.get(p):0}for(g=e=0;g<b.length;g++)e+=b[g].v;e=[];for(g=0;g<d;g++)for(j=0;j<b.length;j++)g<f[j].length&&e.push(f[j][g]);for(g=0;g<i;g++)for(j=0;j<b.length;j++)g<h[j].length&&e.push(h[j][g]);a.j=e}a.C(a.j,c)};function V(a,b){this.canvas=a;this.input=b;this.g=10;this.size=this.g*4+17;this.scale=5;this.i=(this.size+W*2)*this.scale;$(b).width(this.i).val("Type your message here...").bind("keyup",r(this.n,this));$(this.canvas).attr("width",this.i).attr("height",this.i).mousemove(r(this.w,this)).mouseout(r(this.k,this)).mouseleave(r(this.k,this)).mouseenter(r(this.k,this));this.context=this.canvas.getContext("2d");this.context.setTransform(1,0,0,1,this.scale*W,this.scale*W);this.e=[];this.n();this.p()}
var X="app.Application".split("."),Y=q;!(X[0]in Y)&&Y.execScript&&Y.execScript("var "+X[0]);for(var Z;X.length&&(Z=X.shift());)!X.length&&V!==k?Y[Z]=V:Y=Y[Z]?Y[Z]:Y[Z]={};V.prototype.k=function(){this.o=n};V.prototype.w=function(a){var b=$(this.canvas).offset();this.o=new s(a.pageX-b.left-(W+0.5)*this.scale,a.pageY-b.top-(W+0.5)*this.scale)};
V.prototype.n=function(){var a,b;b=$(this.input).val();if(this.value!==b){this.value=b;a=new La(this.g,xa);a.r.push(new sa(b));a.j=n;a.B();var c,d;b=[];for(d=0;d<this.size;){for(c=0;c<this.size;)a.a(d,c)&&b.push(new s(c*this.scale,d*this.scale)),c++;d++}for(;this.e.length>b.length;)a=Math.floor(Math.random()*this.e.length),v.splice.call(this.e,a,1);for(;this.e.length<b.length;)c=d=(this.size-1)*this.scale/2,c=new fa(c,d),a=Math.floor(Math.random()*this.e.length),da(this.e,a,0,c);a=this.e;c=this.size;
a.length&&(c%=a.length,c>0?v.unshift.apply(a,a.splice(-c,c)):c<0&&v.push.apply(a,a.splice(0,-c)));for(a=0;a<b.length;)this.e[a].target.x=b[a].x,this.e[a].target.y=b[a].y,a++;this.I=o}};V.prototype.p=function(){var a,b;this.context.fillStyle="white";this.context.fillRect(-W*this.scale,-W*this.scale,this.i,this.i);this.context.fillStyle="black";for(a=0;a<this.e.length;)b=this.e[a],b.update(this.o),this.context.fillRect(b.f.x,b.f.y,this.scale,this.scale),a++;qa(r(this.p,this))};var W=10;
